{
  "db": "PostgreSQL",
  "056acea3529fc45fb3cec3bbb7fb145e60abd5091fde213b99807d0f0c4a8903": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM inventory_reservations WHERE order_id = $1 AND tenant_id = $2 AND product_id = $3"
  },
  "13aa2cbce7c2014390961c80ea344dabeaefddd20b2ea4cedec457933f9c1a78": {
    "describe": {
      "columns": [
        {
          "name": "quantity",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE inventory SET quantity = quantity + $1 WHERE product_id = $2 AND tenant_id = $3 RETURNING quantity"
  },
  "1ee8b22e398e6f4f4848b21c26207cea0ca41fcbacc4292bf4c8be0b5ec3395c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "INSERT INTO inventory (product_id, tenant_id, quantity, threshold) VALUES ($1, $2, $3, $4) ON CONFLICT (product_id, tenant_id) DO NOTHING"
  },
  "213d5abcfe8488c589c810ac4a8fb4029a6414cde7d1f1a4c144c05b38cc3a94": {
    "describe": {
      "columns": [
        {
          "name": "quantity",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "threshold",
          "ordinal": 1,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE inventory SET quantity = quantity - $1 WHERE product_id = $2 AND tenant_id = $3 RETURNING quantity, threshold"
  },
  "59dfd0178435eb73032d755b0e8339f31ec94ebb55ed6064603bc4b0d6cda65a": {
    "describe": {
      "columns": [
        {
          "name": "?column?",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT 1 FROM inventory_reservations WHERE order_id = $1"
  },
  "7fbe3d75ddf7cecfbd3d63072d91dc5962b2df3e21d7edf259ca21c8d5df0226": {
    "describe": {
      "columns": [
        {
          "name": "quantity",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "SELECT quantity FROM inventory WHERE tenant_id = $1 AND product_id = $2 FOR UPDATE"
  },
  "a4998bd293c173b722eaa59104a044a748687af8e44f8d7b567d633d792310c0": {
    "describe": {
      "columns": [
        {
          "name": "coalesce",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "SELECT COALESCE(SUM(quantity), 0) FROM inventory_reservations WHERE tenant_id = $1 AND product_id = $2"
  },
  "d2d71241451be154b108a10d7280046df73e9e131bddf47770cfa4f2765d0ccc": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid",
          "Int4"
        ]
      }
    },
    "query": "INSERT INTO inventory_reservations (order_id, tenant_id, product_id, quantity) VALUES ($1, $2, $3, $4)"
  },
  "ebd5b93ee40584e2ad093d9e7d5339399cceb1125a9828b82ad2be937bb98e74": {
    "describe": {
      "columns": [
        {
          "name": "product_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "quantity",
          "ordinal": 1,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM inventory_reservations WHERE order_id = $1 AND tenant_id = $2 RETURNING product_id, quantity"
  }
}